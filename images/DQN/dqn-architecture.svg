<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 700 400" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="700" height="400" fill="#f8f9fa"/>
    
    <!-- Input Image -->
    <g transform="translate(40, 140)">
        <rect width="100" height="100" fill="#e9ecef" stroke="#343a40" stroke-width="2"/>
        <text x="50" y="-10" text-anchor="middle" font-family="Arial" fill="#495057" font-size="14">Game State</text>
        
        <!-- 3x3 Grid -->
        <rect x="10" y="10" width="25" height="25" fill="#4dabf7"/>
        <rect x="37.5" y="10" width="25" height="25" fill="#748ffc"/>
        <rect x="65" y="10" width="25" height="25" fill="#4dabf7"/>
        
        <rect x="10" y="37.5" width="25" height="25" fill="#748ffc"/>
        <rect x="37.5" y="37.5" width="25" height="25" fill="#4dabf7"/>
        <rect x="65" y="37.5" width="25" height="25" fill="#748ffc"/>
        
        <rect x="10" y="65" width="25" height="25" fill="#4dabf7"/>
        <rect x="37.5" y="65" width="25" height="25" fill="#748ffc"/>
        <rect x="65" y="65" width="25" height="25" fill="#4dabf7"/>
    </g>
    
    <!-- CNN Layers -->
    <g transform="translate(180, 140)">
        <rect width="140" height="100" fill="#339af0" fill-opacity="0.2" stroke="#339af0" stroke-width="2" rx="5"/>
        <text x="70" y="-10" text-anchor="middle" font-family="Arial" fill="#495057" font-size="14">CNN Layers</text>
        
        <!-- Convolutional patterns - 3x3 grid structure -->
        <g transform="translate(20, 15)">
            <rect width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            <rect x="25" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            <rect x="50" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            
            <rect y="25" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            <rect x="25" y="25" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            <rect x="50" y="25" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            
            <rect y="50" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            <rect x="25" y="50" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
            <rect x="50" y="50" width="20" height="20" fill="none" stroke="#339af0" stroke-width="1"/>
        </g>
    </g>
    
    <!-- Dense Layers -->
    <g transform="translate(360, 140)">
        <rect width="140" height="100" fill="#7950f2" fill-opacity="0.2" stroke="#7950f2" stroke-width="2" rx="5"/>
        <text x="70" y="-10" text-anchor="middle" font-family="Arial" fill="#495057" font-size="14">Dense Layers</text>
        
        <!-- Neurons and connections -->
        <circle cx="30" cy="25" r="4" fill="#7950f2"/>
        <circle cx="30" cy="50" r="4" fill="#7950f2"/>
        <circle cx="30" cy="75" r="4" fill="#7950f2"/>
        
        <circle cx="70" cy="35" r="4" fill="#7950f2"/>
        <circle cx="70" cy="65" r="4" fill="#7950f2"/>
        
        <circle cx="110" cy="50" r="4" fill="#7950f2"/>
        
        <!-- Connections -->
        <path d="M30 25 L70 35" stroke="#7950f2" stroke-width="1" opacity="0.5"/>
        <path d="M30 50 L70 35" stroke="#7950f2" stroke-width="1" opacity="0.5"/>
        <path d="M30 75 L70 65" stroke="#7950f2" stroke-width="1" opacity="0.5"/>
        <path d="M70 35 L110 50" stroke="#7950f2" stroke-width="1" opacity="0.5"/>
        <path d="M70 65 L110 50" stroke="#7950f2" stroke-width="1" opacity="0.5"/>
    </g>
    
    <!-- Q-Values Output -->
    <g transform="translate(540, 140)">
        <rect width="120" height="100" fill="#f03e3e" fill-opacity="0.2" stroke="#f03e3e" stroke-width="2" rx="5"/>
        <text x="60" y="-10" text-anchor="middle" font-family="Arial" fill="#495057" font-size="14">Q-Values</text>
        
        <!-- Output array visualization -->
        <rect x="20" y="20" width="80" height="20" fill="#f03e3e" fill-opacity="0.3" rx="3"/>
        <text x="60" y="34" text-anchor="middle" font-family="Arial" fill="#495057" font-size="12">Action 1: 0.75</text>
        
        <rect x="20" y="45" width="80" height="20" fill="#f03e3e" fill-opacity="0.5" rx="3"/>
        <text x="60" y="59" text-anchor="middle" font-family="Arial" fill="#495057" font-size="12">Action 2: 0.92</text>
        
        <rect x="20" y="70" width="80" height="20" fill="#f03e3e" fill-opacity="0.2" rx="3"/>
        <text x="60" y="84" text-anchor="middle" font-family="Arial" fill="#495057" font-size="12">Action 3: 0.45</text>
    </g>
    
    <!-- Arrows connecting components -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#343a40"/>
        </marker>
    </defs>
    
    <path d="M140 190 L180 190" stroke="#343a40" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M320 190 L360 190" stroke="#343a40" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M500 190 L540 190" stroke="#343a40" stroke-width="2" marker-end="url(#arrowhead)"/>
</svg>
